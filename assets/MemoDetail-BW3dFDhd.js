import{d as M,b as w,e as x,l as D,r as u,h as g,m as k,c as s,o as a,a as i,w as B,v as E,n as d,u as I,_ as R}from"./index-DvRMrDaI.js";const S={class:"memo-detail"},U={class:"container"},V={class:"content"},C={key:1,class:"text-center p-4"},N=M({__name:"MemoDetail",setup(T){const m=D(),n=I(),{getById:_,update:p}=w(),t=x(),v=m.params.id,r=u(null),o=u(!0),f=async()=>{try{o.value=!0;const e=await _(v);e?(r.value=e,t.setData(e.id,e.title,e.content)):n.push("/")}catch(e){console.error("Error loading memo:",e),n.push("/")}finally{o.value=!1}},h=async()=>{if(r.value)try{await p(t.id,t.title,t.content)}catch(e){console.error("Error saving memo:",e)}},y=()=>t.$subscribe(()=>{h()});let c=null;return g(async()=>{await f(),c=y()}),k(()=>{c?.()}),(e,l)=>(a(),s("div",S,[i("div",U,[i("div",V,[o.value?(a(),s("div",C," 로딩 중... ")):B((a(),s("textarea",{key:0,"onUpdate:modelValue":l[0]||(l[0]=b=>d(t).content=b),class:"form-control",placeholder:"메모 내용을 입력하세요",rows:"20"},null,512)),[[E,d(t).content]])])])]))}}),j=R(N,[["__scopeId","data-v-8f6bdc8d"]]);export{j as default};
