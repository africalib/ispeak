import{d as M,b,e as x,l as k,r as a,h as B,m as D,c as r,o as c,a as d,w as R,v as E,n as m,u as I,_ as C}from"./index-D2Njyy9W.js";const S={class:"container"},U={class:"content"},V={key:1,class:"text-center p-4"},$=M({__name:"MemoDetail",setup(H){const p=k(),l=I(),{getById:v,update:_}=b(),t=x(),f=p.params.id,i=a(null),n=a(!0),o=a(null),h=async()=>{try{n.value=!0;const e=await v(f);e?(i.value=e,t.setData(e.id,e.title,e.content)):l.push("/")}catch(e){console.error("Error loading memo:",e),l.push("/")}finally{n.value=!1}},y=async()=>{if(i.value)try{await _(t.id,t.title,t.content)}catch(e){console.error("Error saving memo:",e)}},g=()=>t.$subscribe(()=>{y()});let u=null;return B(async()=>{if(await h(),u=g(),o.value){const e=o.value.getBoundingClientRect(),s=window.innerHeight-e.top-15;o.value.style.height=`${s}px`}}),D(()=>{u?.()}),(e,s)=>(c(),r("div",{class:"memo-detail",ref_key:"rootRef",ref:o},[d("div",S,[d("div",U,[n.value?(c(),r("div",V," 로딩 중... ")):R((c(),r("textarea",{key:0,"onUpdate:modelValue":s[0]||(s[0]=w=>m(t).content=w),class:"form-control",placeholder:"메모 내용을 입력하세요",rows:"20"},null,512)),[[E,m(t).content]])])])],512))}}),T=C($,[["__scopeId","data-v-522c8ddc"]]);export{T as default};
